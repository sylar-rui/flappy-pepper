<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Flappy Pepper Home Page</title>
    <link href="css/index.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" 	src="js/jquery-2.0.3.min.js"></script>
    <script type="text/javascript" 	src="js/jquery.smint.js"></script>
    <script type="text/javascript" 	src="js/index.js"></script>
    <script src="js/jquery.rotate.js"></script>
    <script src="js/jquery.classyleaves.min.js"></script>
    <link rel="stylesheet" type="text/css" href="css/jquery.classyleaves.min.css" />
  </head>
  <body>
 	<div class="wrap">
    <div>
        <script>
              $(document).ready(function() {
                  var tree = new ClassyLeaves({
                      leaves: 30,
                      maxY: -10,
                      multiplyOnClick: true,
                      multiply: 2,
                      infinite: true,
                      speed: 4000
                  });
                  $('body').on('click', '.addLeaf', function() {
                      console.log('8');
                      tree.add(8);
                      return false;
                  });
              });
          </script>
  </div>
    </div>
      <div class="leaves">
        <script>
            $(document).ready(function() {
                var tree = new ClassyLeaves({
                    leaves: 30,
                    maxY: -10,
                    multiplyOnClick: true,
                    multiply: 2,
                    infinite: true,
                    speed: 4000
                });
                $('body').on('click', '.addLeaf', function() {
                    console.log('8');
                    tree.add(8);
                    return false;
                });
            });
        </script>
    </div>
    <div class="one"></div>
    <div id="backtotop" style="display:none;"></div>
 		<div class="Menu">
 			<div class="inner">
        <ul id ="nav" class="PaperFont">
          <li><span>HOME</span><a href="#" id="sTop" class="subNavBtn">首页</a></li>
          <li><span>TRADITION</span><a href="#" id="s1" class="subNavBtn">剪纸·传统之美</a></li>
          <li><span>EXHIBITION</span><a href="#" id="s2" class="subNavBtn">剪纸·赏</a></li>
          <li><span>LEARN</span><a href="#" id="s3" class="subNavBtn">剪纸·学</a></li>
          <li><span>SITE</span><a href="#" id="s4" class="subNavBtn">剪纸·空间</a></li>
          <li><span>MORE</span><a href="#" id="s5" class="subNavBtn">剪纸·更多</a></li>
        </ul>
 			</div>
 		</div>
 		<div class="section sTop">
 			<div class="inner">
        <br><br><br><br>
        <h2 class="PaperFont">妙手偶裁</p>
        <p style="text-align:center"><img src="images/paper_plane.png" width="20%" height="20%"></p>
 			</div>
 		</div>

 		<div class="section s1">
 			<div class="inner">
 				<h1>剪纸·传统之美</h1>
 			</div>
 		</div>

  		<div class="section s2">
 			<div class="inner">
 				<h1>剪纸·赏</h1>
 			</div>
 		</div>
 		
 		<div class="section s3">
 			<div class="inner">
 				<h1>剪纸·学</h1>
 			</div>
 		</div>

  	<div class="section s4">
 			<div class="inner">
 				<h1>剪纸·空间</h1>
 			</div>
 		</div> 			

    <div class="section s5">
      <div class="inner">
        <h1>剪纸·更多</h1>
      </div>
    </div> 
 	</div>
  </body>
    <script>
      var scrollTT = {
        tTSpeed     : 800, // 滚动到顶部的时间
        startFlyTime  : 1000, // 火箭起飞的时间
        restartTime   : 1200, // 重置火箭位置的时间
        flySpeed    : 50, // 火箭向上飞行的速度
        obj       : $("#backtotop"), // 回到顶部的dom
        flyTemp     :   '', // 一个setInterval的临时变量
        /**
        * 
        * 初始化 scrollTT 函数
        * 主要是像对象添加事件
        *
        */
        init      : function( obj, tTSpeed, startFlyTime, restartTime, flySpeed ) {
          scrollTT.tTSpeed    = scrollTT.tTSpeed || tTSpeed;
          scrollTT.startFlyTIme = scrollTT.startFlyTIme || startFlyTime;
          scrollTT.restartTime  = scrollTT.restartTime || restartTime;
          scrollTT.flySpeed   = scrollTT.flySpeed || flySpeed;
          scrollTT.obj      = scrollTT.obj || obj;
       
          // 向window 绑定scroll 事件
          scrollTT.onScroll();
       
       
          scrollTT.obj.click(function(){
            // 关闭默认的scroll事件
            $(window).off("scroll");
            // 页面向上滚动
            $('html,body').animate({scrollTop: '0px'}, this.tTSpeed);
            // 火箭向上飞行
            scrollTT.objFly();
            // 火箭的喷气效果
            scrollTT.blow();
       
          });
       
          // 鼠标在火箭上的效果
          scrollTT.obj.mouseenter(function() {
            $(this).css('background-position', '-149px 0px');
          });
          // 鼠标移开的效果
          scrollTT.obj.mouseleave(function() {
            $(this).css('background-position', '0px 0px');
          });
       
        },  
        /*
        * 向window 绑定scroll 事件
        *
        */
        onScroll : function() {
          $(window).on('scroll', function() {
            if ($(window).scrollTop()>500){
              scrollTT.obj.fadeIn(500);
            }else{
              scrollTT.obj.fadeOut(1500);
            }
          });
        },
        /**
        * dom对象向上飞行
        *
        */
        objFly : function() {
          var fly = setTimeout(function(){
            scrollTT.obj.animate({top: '-500px'} ,'normal', 'swing');
            scrollTT.resetFly();
            clearTimeout(fly);
            clearInterval(scrollTT.flyTemp);
          }, scrollTT.startFlyTime);
        },
        /**
        * dom 对象飞行完毕回到原来的位置
        *
        */
        resetFly : function() {
            var fly2 = setTimeout(function() {
              scrollTT.obj.hide();
              scrollTT.obj.css("top", 'auto');
              scrollTT.obj.css("background-position", '0px 0px');
              scrollTT.onScroll();
              clearTimeout(fly2);
            },scrollTT.restartTime);
          },
        /**
        * dom 对象的喷气效果
        *
        */
        blow : function() {
          var topPosiiton = -149;
          scrollTT.flyTemp = setInterval(function() {
            topPosiiton += -149;
            if(topPosiiton < -743) {
              topPosiiton = -149
            }
            scrollTT.obj.css('background-position', topPosiiton + 'px 0px');
          }, this.flySpeed);
        }
      };
       
      scrollTT.init();
 
  </script>
</html>
